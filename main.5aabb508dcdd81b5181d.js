(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{FwkB:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){var o,i=e.lambda,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<tr id="+c(i(null!=t?u(t,"id"):t,t))+">\r\n  <td>"+c(i(null!=t?u(t,"time_ago"):t,t))+"</td>\r\n  <td> <a href="+c(i(null!=t?u(t,"url"):t,t))+' target="_blank" rel="noopener noreferrer">'+c(i(null!=t?u(t,"title"):t,t))+"</a> </td>\r\n  <td>\r\n"+(null!=(o=u(n,"if").call(null!=t?t:e.nullContext||{},null!=t?u(t,"domain"):t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:7,column:4},end:{line:9,column:11}}}))?o:"")+"  </td>\r\n</tr>\r\n"},2:function(e,t,n,r,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    "+e.escapeExpression(e.lambda(null!=t?o(t,"domain"):t,t))+"\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\r\n"+(null!=(o=i(n,"each").call(null!=t?t:e.nullContext||{},null!=t?i(t,"items"):t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:0},end:{line:12,column:9}}}))?o:"")},useData:!0})},L1EO:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return x}));n("JBxO"),n("FdtR"),n("wcNg");var r=n("cnbf"),a=n("pJpQ"),o=(n("aOEW"),n("wCa+"),"GET_NEWS"),i="INCREMENT_PAGE",c="SORT_BY_TIME",u="SORT_BY_TITLE",s="SORT_BY_DOMAIN",l="SET_LAST_ITEM_ID",p=function(e,t){return e.time>t.time?-1:e.time<t.time?1:0},d=function(e,t){var n=e.title.toUpperCase(),r=t.title.toUpperCase();return n<r?-1:n>r?1:0},m=function(e,t){if(!e.domain||!t.domain)return 0;var n=e.domain.toUpperCase(),r=t.domain.toUpperCase();return n<r?-1:n>r?1:0},f={news:[],lastItemId:null,page:1},v=function(e,t){void 0===e&&(e=f);var n=t.type,r=t.payload;switch(n){case o:return Object.assign({},e,{news:r});case c:return Object.assign({},e,{news:e.news.sort(p)});case u:return Object.assign({},e,{news:e.news.sort(d)});case s:return Object.assign({},e,{news:e.news.sort(m)});case l:return Object.assign({},e,{lastItemId:e.news[e.news.length-1].id});case i:return Object.assign({},e,{page:e.page+=1});default:return e}},h=n("iIYa");var y=n("czhI"),w=n.n(y),g=function(){return{type:i}},b=function(){return{type:l}};function O(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}var E=function(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://api.hnpwa.com/v0/news/"+x.getState().page+".json");case 2:n=e.sent,t((r=n.data,{type:o,payload:r})),t(b());case 5:case"end":return e.stop()}var r}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,c,"next",e)}function c(e){O(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()},B=n("FwkB"),I=n.n(B),T=n("TmHM"),L=n.n(T);n("L1EO");function k(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){k(o,r,a,i,c,"next",e)}function c(e){k(o,r,a,i,c,"throw",e)}i(void 0)}))}}var x=Object(r.createStore)(v,Object(a.composeWithDevTools)(Object(r.applyMiddleware)(h.a))),C={tableBody:document.getElementById("table-body"),timeColumn:document.getElementById("time"),titleColumn:document.getElementById("title"),domainColumn:document.getElementById("domain"),sortByDateBtn:document.getElementById("sortBtn")};function P(){return(P=j(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.dispatch(E());case 2:S();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){var e={items:x.getState().news},t=window.innerWidth<768?L()(e):I()(e);C.tableBody.insertAdjacentHTML("beforeend",t);var n=document.getElementById(x.getState().lastItemId),r=new IntersectionObserver((function(e){return a.apply(this,arguments)}),{threshold:1});function a(){return(a=j(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t[0].isIntersecting){e.next=7;break}return r.unobserve(n),x.dispatch(b()),x.dispatch(g()),e.next=6,x.dispatch(E());case 6:S();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.observe(n),x.getState().page>9&&r.unobserve(n)}function _(e){C.tableBody.innerHTML="";var t=document.querySelector(".active");t&&t.classList.remove("active"),e.currentTarget.classList.add("active"),x.dispatch({type:c}),x.dispatch(b()),S()}window.addEventListener("DOMContentLoaded",(function(){return P.apply(this,arguments)})),C.timeColumn.addEventListener("click",_),C.titleColumn.addEventListener("click",(function(e){C.tableBody.innerHTML="";var t=document.querySelector(".active");t&&t.classList.remove("active");e.currentTarget.classList.add("active"),x.dispatch({type:u}),x.dispatch(b()),S()})),C.domainColumn.addEventListener("click",(function(e){C.tableBody.innerHTML="";var t=document.querySelector(".active");t&&t.classList.remove("active");e.currentTarget.classList.add("active"),x.dispatch({type:s}),x.dispatch(b()),S()})),C.sortByDateBtn.addEventListener("click",(function(e){_(e)}))},TmHM:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){var o=e.lambda,i=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<tr id="+i(o(null!=t?c(t,"id"):t,t))+">\r\n  <td>\r\n    <a href="+i(o(null!=t?c(t,"url"):t,t))+' target="_blank" rel="noopener noreferrer">'+i(o(null!=t?c(t,"title"):t,t))+"</a>\r\n  </td>\r\n</tr>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\r\n"+(null!=(o=i(n,"each").call(null!=t?t:e.nullContext||{},null!=t?i(t,"items"):t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:0},end:{line:8,column:9}}}))?o:"")},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.5aabb508dcdd81b5181d.js.map